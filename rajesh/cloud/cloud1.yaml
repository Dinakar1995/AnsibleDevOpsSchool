---
- name: This sets up an httpd webserver
  hosts: localhost
  vars:
    key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34656338393436326331616265356661353462336330323234623335303765326365393634623932
          6434396263323830343964336166343165633030633837360a356164636264386263316232336136
          63356231326433316238376539626336643839313166666261346539323730323964343763653661
          6662633864356534360a303139636230643633326136623364613062613431373630356535343930
          38323133383033653262396637636636613264353235386262626133333032653833663531653738
          6130623061316564613566333636313733343337393561326236
    secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34656338393436326331616265356661353462336330323234623335303765326365393634623932
          6434396263323830343964336166343165633030633837360a356164636264386263316232336136
          63356231326433316238376539626336643839313166666261346539323730323964343763653661
          6662633864356534360a303139636230643633326136623364613062613431373630356535343930
          38323133383033653262396637636636613264353235386262626133333032653833663531653738
          6130623061316564613566333636313733343337393561326236

  tasks:
  - ec2:
      key_name: rajesh-mumbai
      instance_type: t2.small
      image: ami-5b673c34
      aws_access_key: "{{ key }}"
      aws_secret_key: "{{ secret }}"
      instance_tags:
        Name: DEMO
      vpc_subnet_id: subnet-8c19b3e5
      region: ap-south-1
